"use strict";(()=>{var U=Object.defineProperty;var p=(M,O)=>U(M,"name",{value:O,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["actions","node_modules_delegated-events_dist_index_js"],{3447:(M,O,v)=>{v.d(O,{D:()=>y,P:()=>w});var o=v(46263);function w(x=0,E={}){return(n,u,_)=>{if(!_||typeof _.value!="function")throw new Error("debounce can only decorate functions");const e=_.value;_.value=(0,o.P)(e,x,E),Object.defineProperty(n,u,_)}}p(w,"throttle");function y(x=0,E={}){return(n,u,_)=>{if(!_||typeof _.value!="function")throw new Error("debounce can only decorate functions");const e=_.value;_.value=(0,o.D)(e,x,E),Object.defineProperty(n,u,_)}}p(y,"debounce")},46263:(M,O,v)=>{v.d(O,{D:()=>w,P:()=>o});function o(y,x=0,{start:E=!0,middle:n=!0,once:u=!1}={}){let _=0,e,t=!1;function a(...l){if(t)return;const g=Date.now()-_;_=Date.now(),E?(E=!1,y.apply(this,l),u&&a.cancel()):(n&&g<x||!n)&&(clearTimeout(e),e=setTimeout(()=>{_=Date.now(),y.apply(this,l),u&&a.cancel()},n?x-g:x))}return p(a,"fn"),a.cancel=()=>{clearTimeout(e),t=!0},a}p(o,"throttle");function w(y,x=0,{start:E=!1,middle:n=!1,once:u=!1}={}){return o(y,x,{start:E,middle:n,once:u})}p(w,"debounce")},59753:(M,O,v)=>{v.d(O,{f:()=>N,on:()=>V});function o(){if(!(this instanceof o))return new o;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}p(o,"SelectorSet");var w=window.document.documentElement,y=w.matches||w.webkitMatchesSelector||w.mozMatchesSelector||w.oMatchesSelector||w.msMatchesSelector;o.prototype.matchesSelector=function(i,c){return y.call(i,c)},o.prototype.querySelectorAll=function(i,c){return c.querySelectorAll(i)},o.prototype.indexes=[];var x=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"ID",selector:p(function(c){var h;if(h=c.match(x))return h[0].slice(1)},"matchIdSelector"),element:p(function(c){if(c.id)return[c.id]},"getElementId")});var E=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"CLASS",selector:p(function(c){var h;if(h=c.match(E))return h[0].slice(1)},"matchClassSelector"),element:p(function(c){var h=c.className;if(h){if(typeof h=="string")return h.split(/\s/);if(typeof h=="object"&&"baseVal"in h)return h.baseVal.split(/\s/)}},"getElementClassNames")});var n=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;o.prototype.indexes.push({name:"TAG",selector:p(function(c){var h;if(h=c.match(n))return h[0].toUpperCase()},"matchTagSelector"),element:p(function(c){return[c.nodeName.toUpperCase()]},"getElementTagName")}),o.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var u;typeof window.Map=="function"?u=window.Map:u=function(){function i(){this.map={}}return p(i,"Map"),i.prototype.get=function(c){return this.map[c+" "]},i.prototype.set=function(c,h){this.map[c+" "]=h},i}();var _=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function e(i,c){i=i.slice(0).concat(i.default);var h=i.length,b,m,C,S,A=c,T,R,L=[];do if(_.exec(""),(C=_.exec(A))&&(A=C[3],C[2]||!A)){for(b=0;b<h;b++)if(R=i[b],T=R.selector(C[1])){for(m=L.length,S=!1;m--;)if(L[m].index===R&&L[m].key===T){S=!0;break}S||L.push({index:R,key:T});break}}while(C);return L}p(e,"parseSelectorIndexes");function t(i,c){var h,b,m;for(h=0,b=i.length;h<b;h++)if(m=i[h],c.isPrototypeOf(m))return m}p(t,"findByPrototype"),o.prototype.logDefaultIndexUsed=function(){},o.prototype.add=function(i,c){var h,b,m,C,S,A,T,R,L=this.activeIndexes,P=this.selectors,B=this.selectorObjects;if(typeof i=="string"){for(h={id:this.uid++,selector:i,data:c},B[h.id]=h,T=e(this.indexes,i),b=0;b<T.length;b++)R=T[b],C=R.key,m=R.index,S=t(L,m),S||(S=Object.create(m),S.map=new u,L.push(S)),m===this.indexes.default&&this.logDefaultIndexUsed(h),A=S.map.get(C),A||(A=[],S.map.set(C,A)),A.push(h);this.size++,P.push(i)}},o.prototype.remove=function(i,c){if(typeof i=="string"){var h,b,m,C,S,A,T,R,L=this.activeIndexes,P=this.selectors=[],B=this.selectorObjects,$={},Q=arguments.length===1;for(h=e(this.indexes,i),m=0;m<h.length;m++)for(b=h[m],C=L.length;C--;)if(A=L[C],b.index.isPrototypeOf(A)){if(T=A.map.get(b.key),T)for(S=T.length;S--;)R=T[S],R.selector===i&&(Q||R.data===c)&&(T.splice(S,1),$[R.id]=!0);break}for(m in $)delete B[m],this.size--;for(m in B)P.push(B[m].selector)}};function a(i,c){return i.id-c.id}p(a,"sortById"),o.prototype.queryAll=function(i){if(!this.selectors.length)return[];var c={},h=[],b=this.querySelectorAll(this.selectors.join(", "),i),m,C,S,A,T,R,L,P;for(m=0,S=b.length;m<S;m++)for(T=b[m],R=this.matches(T),C=0,A=R.length;C<A;C++)P=R[C],c[P.id]?L=c[P.id]:(L={id:P.id,selector:P.selector,data:P.data,elements:[]},c[P.id]=L,h.push(L)),L.elements.push(T);return h.sort(a)},o.prototype.matches=function(i){if(!i)return[];var c,h,b,m,C,S,A,T,R,L,P,B=this.activeIndexes,$={},Q=[];for(c=0,m=B.length;c<m;c++)if(A=B[c],T=A.element(i),T){for(h=0,C=T.length;h<C;h++)if(R=A.map.get(T[h]))for(b=0,S=R.length;b<S;b++)L=R[b],P=L.id,!$[P]&&this.matchesSelector(i,L.selector)&&($[P]=!0,Q.push(L))}return Q.sort(a)};var l={},g={},s=new WeakMap,r=new WeakMap,d=new WeakMap,f=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function I(i,c,h){var b=i[c];return i[c]=function(){return h.apply(i,arguments),b.apply(i,arguments)},i}p(I,"before");function D(i,c,h){var b=[],m=c;do{if(m.nodeType!==1)break;var C=i.matches(m);if(C.length){var S={node:m,observers:C};h?b.unshift(S):b.push(S)}}while(m=m.parentElement);return b}p(D,"dist_matches");function F(){s.set(this,!0)}p(F,"trackPropagation");function j(){s.set(this,!0),r.set(this,!0)}p(j,"trackImmediate");function k(){return d.get(this)||null}p(k,"getCurrentTarget");function z(i,c){!f||Object.defineProperty(i,"currentTarget",{configurable:!0,enumerable:!0,get:c||f.get})}p(z,"defineCurrentTarget");function W(i){try{return i.eventPhase,!0}catch{return!1}}p(W,"canDispatch");function K(i){if(!!W(i)){var c=i.eventPhase===1?g:l,h=c[i.type];if(!!h){var b=D(h,i.target,i.eventPhase===1);if(!!b.length){I(i,"stopPropagation",F),I(i,"stopImmediatePropagation",j),z(i,k);for(var m=0,C=b.length;m<C&&!s.get(i);m++){var S=b[m];d.set(i,S.node);for(var A=0,T=S.observers.length;A<T&&!r.get(i);A++)S.observers[A].data.call(S.node,i)}d.delete(i),z(i)}}}}p(K,"dispatch");function V(i,c,h){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=!!b.capture,C=m?g:l,S=C[i];S||(S=new o,C[i]=S,document.addEventListener(i,K,m)),S.add(c,h)}p(V,"on");function H(i,c,h){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=!!b.capture,C=m?g:l,S=C[i];!S||(S.remove(c,h),!S.size&&(delete C[i],document.removeEventListener(i,K,m)))}p(H,"off");function N(i,c,h){return i.dispatchEvent(new CustomEvent(c,{bubbles:!0,cancelable:!0,detail:h}))}p(N,"fire")},60136:(M,O,v)=>{var o=v(1975),w=v(90420),y=v(3447),x=Object.defineProperty,E=Object.getOwnPropertyDescriptor,n=p((t,a,l,g)=>{for(var s=g>1?void 0:g?E(a,l):a,r=t.length-1,d;r>=0;r--)(d=t[r])&&(s=(g?d(a,l,s):d(s))||s);return g&&s&&x(a,l,s),s},"__decorateClass");let u=p(class extends o.a{constructor(){super(...arguments);this.showAllQualifiersIfNoneMatch=!1,this.fuzzyMatchQualifiers=!0,this.showSubmissionOptionIfInvalidSearchTerms=!0,this.suggestionsTitle="Narrow your search",this.spaceBetweenValueAndDescription=!1}fetchQualifierSuggestions(){return[{value:"actor:",description:"octocat"},{value:"branch:",description:"my-branch-name"},{value:"event:",description:"push, pull_request, schedule, check_run, check_suite, etc."},{value:"is:",description:"success, failure, in_progress, neutral, etc."},{value:"workflow:",description:"workflow-name"}]}async fetchSuggestionsForQualifier(t){switch(t){case"branch":return this.fetchBranchSuggestions();case"actor":return this.fetchActorSuggestions();case"event":return this.fetchEventSuggestions();case"is":return this.fetchStatusSuggestions();case"workflow":return this.fetchWorkflowSuggestions();default:return[]}}async fetchBranchSuggestions(){const t=this.searchInput.getAttribute("data-suggested-branches-path");return(await this.cachedJSON(t)).map(l=>({value:l}))}async fetchActorSuggestions(){const t=this.searchInput.getAttribute("data-suggested-actors-path");return(await this.cachedJSON(t)).map(l=>({value:l.login,description:l.displayName}))}async fetchEventSuggestions(){const t=this.searchInput.getAttribute("data-suggested-events-path");return(await this.cachedJSON(t)).map(l=>({value:l}))}async fetchStatusSuggestions(){const t=this.searchInput.getAttribute("data-suggested-statuses-path");return(await this.cachedJSON(t)).map(l=>({value:l}))}async fetchWorkflowSuggestions(){const t=this.searchInput.getAttribute("data-suggested-workflows-path");return(await this.cachedJSON(t)).map(l=>({value:l}))}renderSearchWarningIfRequired(){return""}postDropdownRender(){this.updateKeywordWarning()}invalidSearchTerms(){return this.getFilterInputStringWithoutQualifiers()}getFilterInputStringWithoutQualifiers(){return this.searchInput.value.replace(/\S+:("[^"]+"?|\S)*/g,"").trim()}updateKeywordWarning(){this.getFilterInputStringWithoutQualifiers().length===0?this.hideKeywordWarning():this.showKeywordWarning()}hideKeywordWarning(){this.filterKeywordWarningContainer.hidden=!0}showKeywordWarning(){this.getFilterInputStringWithoutQualifiers().length>0&&(this.filterKeywordWarningMessage.textContent=this.getFilterInputStringWithoutQualifiers(),this.filterKeywordWarningContainer.hidden=!1)}},"ActionsWorkflowFilter");n([w.fA],u.prototype,"filterKeywordWarningContainer",2),n([w.fA],u.prototype,"filterKeywordWarningMessage",2),n([(0,y.D)(300)],u.prototype,"showKeywordWarning",1),u=n([w.Ih],u);var _=v(10965),e=v(37505)},75488:(M,O,v)=>{v.d(O,{C:()=>w,x:()=>o});const o=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(y=>{document.addEventListener("DOMContentLoaded",()=>{y()})})}(),w=function(){return document.readyState==="complete"?Promise.resolve():new Promise(y=>{window.addEventListener("load",y)})}()},1975:(M,O,v)=>{v.d(O,{a:()=>g});var o=v(36162),w=v(93875),y=v(59753),x=v(47448),E=v(57654),n=v(90420),u=v(41311),_=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=p((s,r,d,f)=>{for(var I=f>1?void 0:f?e(r,d):r,D=s.length-1,F;D>=0;D--)(F=s[D])&&(I=(f?F(r,d,I):F(I))||I);return f&&I&&_(r,d,I),I},"__decorateClass");const a=new Map,l=p(class extends HTMLElement{constructor(){super(...arguments);this.showAllQualifiersIfNoneMatch=!0,this.fuzzyMatchQualifiers=!1,this.fuzzyMatchValues=!0,this.showSubmissionOptionIfInvalidSearchTerms=!1,this.suggestionsTitle="Available filters",this.spaceBetweenValueAndDescription=!0,this.selectorOfElementToActivateOnBlur=null,this.unqualifiedSearchTermsAlwaysValid=!0,this.alphaTag=l.tagFn("Alpha"),this.betaTag=l.tagFn("Beta")}async cachedJSON(s){const r=await fetch(s,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!r.ok){const d=new Error,f=r.statusText?` ${r.statusText}`:"";throw d.message=`HTTP ${r.status}${f}`,d}return r.json()}fetchQualifierSuggestions(){const s="data-suggestable-qualifiers",r=this.searchInput.getAttribute(s);if(r===null)throw new Error(`
        ${s} is missing from ${this.searchInput.getAttribute("data-target")}.
        Either add it or override fetchQualifierSuggestions.
      `);return JSON.parse(r)}negatableQualifiers(){return JSON.parse(this.searchInput.getAttribute("data-negatable-qualifiers")||"[]")}removeNegationFromQualifierIfSupported(s){if(!s.startsWith("-"))return s;let[r,...d]=s.split(":");const f=r.substring(1);return this.negatableQualifiers().includes(f)&&(r=f),s.includes(":")&&(r+=":"),(d==null?void 0:d.length)>0?`${r}${d.join(":")}`:r}fetchSuggestionsForQualifier(s){s=this.removeNegationFromQualifierIfSupported(s);const r=`data-suggestable-${s}`,d=`data-suggestable-${s}-path`;if(this.searchInput.hasAttribute(r))return JSON.parse(this.searchInput.getAttribute(r)||"[]");if(this.searchInput.hasAttribute(d)){const f=this.searchInput.getAttribute(d);if(!f)throw new Error(`${d} not set`);return this.cachedJSON(f)}else return Promise.resolve([])}hideFilterSuggestions(){(0,w.jK)(this.searchForm),this.autocompleteDropdown.hidden=!0,this.searchInput.setAttribute("aria-expanded","false")}updateFilterSuggestionResults(){const s=this.searchInput.value,d=(s.slice(0,this.searchInput.selectionEnd).match(/(:"[^"]+"?|\S)+$/)||[""])[0].replace(/"/g,"");this.autocompleteDropdown.hidden=!1,this.searchInput.setAttribute("aria-expanded","true");let f,I;d.includes(":")?[f,...I]=d.split(":"):f=d,I!=null?this.renderValueSuggestions(f,I.join(":")):this.renderQualifierSuggestions(f),s.trim().length>0&&(!this.invalidSearchTerms()||this.showSubmissionOptionIfInvalidSearchTerms)&&!this.searchMatchesDefault()?(this.clearButton&&(this.clearButton.hidden=!1),(0,w.T_)(this.searchForm)):(this.clearButton&&(this.clearButton.hidden=!0),(0,w.QZ)(this.searchForm))}handleSelectedSuggestionResultEvent(s){var r;const d=s.target;if(d.hasAttribute("data-search")){(0,E.Bt)(this.searchForm);return}let f=d.getAttribute("data-value")||"";f[f.length-1]!==":"&&(f+=" ");const I=this.searchInput.value.slice(0,this.searchInput.selectionEnd),D=((r=I.match(/(\S+)$/))==null?void 0:r.pop())||"",F=this.searchInput.value.slice(this.searchInput.selectionEnd),j=F[0]!==" "?" ":"";if(D&&(D.startsWith("-")&&!f.startsWith("-")&&(f=`-${f}`),D.includes(","))){const W=D.split(",");W.pop();const K=f.split(":").slice(1).join(":");W.push(K||""),f=W.join(",")}const k=I.replace(/\S+$/,"");this.searchInput.value=k+f+j+F,s.preventDefault(),this.searchInput.focus();const z=k.length+f.length;this.searchInput.setSelectionRange(z,z),(0,y.f)(this.searchInput,"input")}handleFormKeydownEvent(s){if(s.detail.hotkey==="Enter"){if(this.autocompleteResults.querySelector(".js-filter-loading")||this.autocompleteResults.querySelector(".js-navigation-item.navigation-focus"))return;(0,E.Bt)(this.searchForm)}}clear(){this.searchInput.value=this.getDefaultSearch(),this.getInitialValue().trim().length===0?this.updateFilterSuggestionResults():(0,E.Bt)(this.searchForm)}renderQualifierSuggestions(s){this.showAllQualifiersIfNoneMatch?this.renderMatchingOrAllQualifierSuggestions(s):this.renderMatchingQualifierSuggestions(s)}renderMatchingOrAllQualifierSuggestions(s){const r=this.fetchQualifierSuggestions(),d=this.filterSuggestionsList(r,s,{fuzzy:this.fuzzyMatchQualifiers}).then(f=>f.length===0?r:f);this.renderSuggestionDropdown(d)}renderMatchingQualifierSuggestions(s){const r=this.filterSuggestionsList(this.fetchQualifierSuggestions(),s,{fuzzy:this.fuzzyMatchQualifiers});this.renderSuggestionDropdown(r)}renderValueSuggestions(s,r){const d=this.fetchMatchingSuggestions(s,r);this.renderSuggestionDropdown(d)}async fetchMatchingSuggestions(s,r){const d=this.fetchSuggestionsForQualifier(s),f=r.split(",").pop()||"";return(await this.filterSuggestionsList(d,f,{fuzzy:this.fuzzyMatchValues})).map(D=>({value:`${s}:${D.value}`,description:D.description}))}async filterSuggestionsList(s,r,{fuzzy:d}={fuzzy:!0}){const f=await s;let I=r.trim().toLowerCase();return!I||I.length===0?f:(I.startsWith("-")&&(I=I.slice(1)),f.filter(D=>d?D.value.toLowerCase().includes(I):D.value.toLowerCase().startsWith(I)))}renderSuggestionDropdown(s){(0,o.sY)(o.dy`
        <div>
          ${this.renderSearchWarningIfRequired()}
          ${this.shouldRenderSubmissionOption()?this.renderSearchSuggestion():""}
          ${(0,u.C)(this.renderSuggestionList(s),this.renderLoadingItem())}
        </div>
      `,this.autocompleteResults),this.postDropdownRender()}renderSearchWarningIfRequired(){const s=this.invalidSearchTerms();if(!s||s.length===0)return"";let r=o.dy``;const d=this.getFilterSupportURL();return d&&(r=o.dy`<a class="js-navigation-item js-navigation-open px-1" href="${d}" target="_blank">
        Learn more about filters.
      </a>`),o.dy`
      <div class="color-bg-attention color-fg-muted ml-n2 mr-n2 mt-n1 py-1 px-2 js-search-warning-container">
        Sorry, we don't support the <span class="text-bold">${s}</span> filter yet. ${r}
      </div>
    `}getFilterSupportURL(){return this.searchInput.getAttribute("data-filter-support-url")}postDropdownRender(){}renderSearchSuggestion(){const s=this.searchInput.value.trim();return s.length===0?o.dy``:/:\s|:$/g.test(s)&&!/(?:\w+:){2,}/g.test(s)?o.dy``:o.dy`
      <div class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item" data-search="true">
        <span class="text-bold">${s}</span> - submit
      </div>
    `}invalidSearchTerms(){const s=this.fetchQualifierSuggestions().map(k=>k.value),r=new RegExp(/[^\s:]+:/),d=new RegExp(/"(?:\\"|.)*?"/),f=new RegExp(`${r.source}(?:${d.source}|[^\\s]*)`),I=new RegExp(/[^\s]+/),D=new RegExp(`${f.source}|${I.source}`,"g"),j=(this.searchInput.value.match(D)||[]).filter(k=>{k=this.removeNegationFromQualifierIfSupported(k);const z=k.indexOf(":");if(z===-1)return this.unqualifiedSearchTermsAlwaysValid?null:!s.some(W=>W.startsWith(k));{const W=k.substr(0,z+1);return!s.some(K=>K===W)}});return j.length===0?null:j.join(" ")}searchMatchesDefault(){const s=this.searchInput.value.trim().split(" ").sort(),r=this.getDefaultSearch().trim().split(" ").sort();return s.length===r.length&&s.every((d,f)=>d===r[f])}getInitialValue(){const s="data-initial-value",r=this.searchInput.getAttribute(s);if(r===null)throw new Error(`${s} is missing from search input`);return r}getDefaultSearch(){const s="data-default-value",r=this.searchInput.getAttribute(s);if(r===null)throw new Error(`${s} is missing from search input`);return r}renderSuggestionsTitle(){return o.dy`<p class="h6 width-full text-normal border-bottom color-bg-default color-fg-muted py-2 mb-2">
      ${this.suggestionsTitle}
    </p>`}async renderSuggestionList(s){const d=(await s).map(f=>o.dy`
          <div
            class="border-bottom-0 rounded-2 py-1 px-2 mx-0 mb-1 js-navigation-item"
            data-value="${f.value}"
          >
            <span class="text-bold">${f.value}</span>${this.spaceBetweenValueAndDescription?" ":""}<span
              class="autocomplete-text-qualifier color-fg-muted"
              >&nbsp;${f.description}</span
            >
            ${f.isAlpha&&this.alphaTag} ${f.isBeta&&this.betaTag}
          </div>
        `);return d.length&&d.unshift(this.renderSuggestionsTitle()),d}renderLoadingItem(){return o.dy`
      ${this.renderSuggestionsTitle()}
      <span class="js-filter-loading">loading...</span>
    `}handleSearchBlur(){this.hideFilterSuggestions(),this.selectorOfElementToActivateOnBlur&&(0,w.QZ)(document.querySelector(this.selectorOfElementToActivateOnBlur))}inputKey(s){s.key==="Escape"&&this.handleSearchBlur()}shouldRenderSubmissionOption(){return this.showSubmissionOptionIfInvalidSearchTerms||!this.invalidSearchTerms()}static tagFn(s){return o.dy`<span class="lh-condensed px-1 rounded-2 border color-border-success">${s}</span>`}},"_BaseFilterElement");let g=l;t([n.fA],g.prototype,"autocompleteDropdown",2),t([n.fA],g.prototype,"autocompleteResults",2),t([n.fA],g.prototype,"clearButton",2),t([n.fA],g.prototype,"searchForm",2),t([n.fA],g.prototype,"searchInput",2),t([(0,x.Z)({cache:a})],g.prototype,"cachedJSON",1)},10965:(M,O,v)=>{var o=v(90420),w=Object.defineProperty,y=Object.getOwnPropertyDescriptor,x=p((n,u,_,e)=>{for(var t=e>1?void 0:e?y(u,_):u,a=n.length-1,l;a>=0;a--)(l=n[a])&&(t=(e?l(u,_,t):l(t))||t);return e&&t&&w(u,_,t),t},"__decorateClass");let E=p(class extends HTMLElement{connectedCallback(){this.control&&(this.storedInput=Array(this.control.children.length).fill("")),this.addEventListener("input",this.relayInput.bind(this)),this.addEventListener("keydown",this.relayKeydown.bind(this));const n=this.closest("details");n&&n.addEventListener("toggle",()=>{n.open&&this.source.focus()})}relayKeydown(n){if((this.isControlTab(n.target)||n.target===this.source)&&(n.key==="ArrowDown"||n.key==="Tab"))n.preventDefault(),n.stopPropagation(),this.routeCustomEvent(new CustomEvent("focus-list"));else if(n.key==="Escape"){const u=this.closest("details");u&&u.removeAttribute("open")}}isControlTab(n){return!n||!this.control?!1:Array.from(this.control.children).includes(n)}relayInput(n){if(!n.target)return;const _=n.target.value;this.routeCustomEvent(new CustomEvent("input-entered",{detail:_}))}routeCustomEvent(n){this.sinks[this.selectedIndex].dispatchEvent(n)}get selectedIndex(){if(!this.control)return 0;const n=this.control.querySelector('[aria-selected="true"]');return n?Array.from(this.control.children).indexOf(n):0}storeInput(){this.storedInput[this.selectedIndex]=this.source.value}updateInput(n){this.source.value=this.storedInput[this.selectedIndex];const u=n.detail.relatedTarget.getAttribute("data-filter-placeholder");this.source.placeholder=u,this.source.setAttribute("aria-label",u),this.notifySelected()}notifySelected(){const n=this.sinks[this.selectedIndex],u=new CustomEvent("tab-selected");n.dispatchEvent(u)}},"InputDemuxElement");x([o.fA],E.prototype,"source",2),x([o.GO],E.prototype,"sinks",2),x([o.fA],E.prototype,"control",2),E=x([o.Ih],E)},70290:(M,O,v)=>{v.d(O,{Z:()=>o});function o(w){var y,x;const E=(x=(y=w.head)==null?void 0:y.querySelector('meta[name="expected-hostname"]'))==null?void 0:x.content;if(!E)return!1;const n=E.replace(/\.$/,"").split(".").slice(-2).join("."),u=w.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".");return n!==u}p(o,"detectProxySite")},37505:(M,O,v)=>{var o=v(41891),w=v(69567),y=v(90420),x=v(17945),E=Object.defineProperty,n=Object.getOwnPropertyDescriptor,u=p((e,t,a,l)=>{for(var g=l>1?void 0:l?n(t,a):t,s=e.length-1,r;s>=0;s--)(r=e[s])&&(g=(l?r(t,a,g):r(g))||g);return l&&g&&E(t,a,g),g},"__decorateClass");let _=p(class extends HTMLElement{constructor(){super(...arguments);this.isCurrentVisible=!1,this.currentSelectionIndex=null,this.handleWindowResize=()=>{if(!this.virtualizedList)return;const e=this.isMobileViewport,t=this.windowHeight;this.updateViewportSize();const a=e!==this.isMobileViewport,l=t!==this.windowHeight;if(a){this.virtualizedList.destroy(),this.setupVirtualizedList();return}!this.isMobileViewport||!l||(this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList.resize(this.listHeight))},this.windowResized=()=>{this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),this.resizeAnimationRequest=requestAnimationFrame(this.handleWindowResize)}}connectedCallback(){window.addEventListener("resize",this.windowResized),this.refType=this.getRequiredAttr("type")==="branch"?o.r.Branch:o.r.Tag;const e=this.getAttribute("current-committish");this.currentCommittish=e?atob(e):null,this.input=this.hasAttribute("initial-filter")&&this.currentCommittish||"",this.defaultBranch=atob(this.getRequiredAttr("default-branch")),this.nameWithOwner=atob(this.getRequiredAttr("name-with-owner")),this.canCreate=this.hasAttribute("can-create"),this.prefetchOnMouseover=this.hasAttribute("prefetch-on-mouseover");const t=this.getRequiredAttr("query-endpoint"),a=this.getRequiredAttr("cache-key");this.index=new o.W(this.refType,this,t,a,this.nameWithOwner),this.updateViewportSize(),this.setupFetchListeners()}disconnectedCallback(){this.resizeAnimationRequest&&cancelAnimationFrame(this.resizeAnimationRequest),window.removeEventListener("resize",this.windowResized)}updateViewportSize(){this.isMobileViewport=window.innerWidth<544,this.windowHeight=window.innerHeight}inputEntered(e){this.input=e.detail,this.render()}tabSelected(){this.index.fetchData()}renderTemplate(e,t){return new w.R(e,t,w.XK)}renderRow(e){const t=this.index.currentSearchResult[e];if(!t&&e>=this.listLength)return document.createElement("span");if(this.index.fetchFailed)return this.renderTemplate(this.fetchFailedTemplate,{index:e,refName:this.input});if(!t){const r=this.input===this.currentCommittish;return this.isCurrentVisible||(this.isCurrentVisible=r),this.renderTemplate(this.noMatchTemplate,{index:e,isCurrent:r,refName:this.input})}const a=this.input.length>0,l=a?"is-filtering":"",g=t===this.currentCommittish;this.isCurrentVisible||(this.isCurrentVisible=g);const s=this.renderTemplate(this.itemTemplate,{refName:t,index:e,isFilteringClass:l,urlEncodedRefName:this.urlEncodeRef(t),isCurrent:g,isNotDefault:t!==this.defaultBranch});if(a){const r=s.querySelector("span");r.textContent="";const d=t.split(this.input),f=d.length-1;for(let I=0;I<d.length;I++){const D=d[I];if(r.appendChild(document.createTextNode(D)),I<f){const F=document.createElement("b");F.textContent=this.input,r.appendChild(F)}}}return s}urlEncodeRef(e){return encodeURIComponent(e).replaceAll("%2F","/").replaceAll("%3A",":").replaceAll("%2B","+")}render(){if(this.currentSelectionIndex=null,!this.index.isLoading){if(!this.virtualizedList){this.index.search(this.input),this.setupVirtualizedList();return}this.listContainer.scrollTop=0,this.index.search(this.input),this.virtualizedList.setRowCount(this.listLength)}}get listHeight(){return this.isMobileViewport?this.windowHeight*.3:330}get listLength(){const e=this.index.currentSearchResult.length;return this.showCreateRow?e+1:e||1}get showCreateRow(){return!this.index.fetchFailed&&!this.index.exactMatchFound&&this.input!==""&&this.canCreate}getRequiredAttr(e,t=this){const a=t.getAttribute(e);if(!a)throw new Error(`Missing attribute for ${t}: ${e}`);return a}setupFetchListeners(){const e=this.closest("details");let t=!1;const a=p(()=>{t||(this.index.fetchData(),t=!0)},"fetch");if(!e||e.open){a();return}this.prefetchOnMouseover&&e.addEventListener("mouseover",a,{once:!0}),this.addEventListener("keydown",this.keydown),this.addEventListener("change",this.updateCurrent);const l=e.querySelector("input[data-ref-filter]");l&&(l.addEventListener("input",()=>{this.input=l.value,this.render()}),l.addEventListener("keydown",g=>{if(g.key==="ArrowDown"||g.key==="Tab")g.preventDefault(),g.stopPropagation(),this.focusFirstListMember();else if(g.key==="Enter"){let s=this.index.currentSearchResult.indexOf(this.input);if(s===-1)if(this.showCreateRow)s=this.listLength-1;else return;e.querySelector(`[data-index="${s}"]`).click(),g.preventDefault()}}))}focusFirstListMember(){!this.virtualizedList||(this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex))}updateCurrent(e){e.target instanceof HTMLInputElement&&e.target.checked&&e.target.value&&(this.currentCommittish=e.target.value)}keydown(e){if(this.currentSelectionIndex!==null){if(e.key==="Enter"){const t=document.activeElement;if(!t)return;t.click(),e.preventDefault();return}if(!(e.key==="Tab"&&e.shiftKey)&&e.key!=="Escape")switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowUp":{this.currentSelectionIndex--,this.currentSelectionIndex<0&&(this.currentSelectionIndex=this.listLength-1),this.focusItemAtIndex(this.currentSelectionIndex);break}case"Home":{this.currentSelectionIndex=0,this.focusItemAtIndex(this.currentSelectionIndex);break}case"End":{this.currentSelectionIndex=this.listLength-1,this.focusItemAtIndex(this.currentSelectionIndex);break}case"Tab":case"ArrowDown":{this.currentSelectionIndex++,this.currentSelectionIndex>this.listLength-1&&(this.currentSelectionIndex=0),this.focusItemAtIndex(this.currentSelectionIndex);break}}}}focusItemAtIndex(e){this.virtualizedList.scrollToIndex(e,"center"),setTimeout(()=>{const t=this.listContainer.querySelector(`[data-index="${e}"]`);t&&t.focus()},20)}setupVirtualizedList(){this.listContainer.innerHTML="",this.listContainer.style.maxHeight=`${this.listHeight}px`,this.virtualizedList=new x.Z(this.listContainer,{height:this.listHeight,rowCount:this.listLength,renderRow:this.renderRow.bind(this),rowHeight:e=>{const t=this.isMobileViewport?54:33;return this.showCreateRow&&e===this.listLength-1?51:t},onRowsRendered:()=>{var e;this.hiddenCurrentElement&&(this.listContainer.removeChild(this.hiddenCurrentElement),delete this.hiddenCurrentElement),this.isCurrentVisible?this.isCurrentVisible=!1:this.hiddenCurrentItemTemplate&&(this.hiddenCurrentElement=document.createElement("div"),(e=this.hiddenCurrentElement)==null||e.appendChild(this.renderTemplate(this.hiddenCurrentItemTemplate,{refName:this.currentCommittish})),this.listContainer.appendChild(this.hiddenCurrentElement))},initialIndex:0,overscanCount:6}),this.virtualizedList.resize.bind(this.virtualizedList)}},"RefSelectorElement");u([y.fA],_.prototype,"listContainer",2),u([y.fA],_.prototype,"itemTemplate",2),u([y.fA],_.prototype,"noMatchTemplate",2),u([y.fA],_.prototype,"fetchFailedTemplate",2),u([y.fA],_.prototype,"hiddenCurrentItemTemplate",2),_=u([y.Ih],_)},41891:(M,O,v)=>{v.d(O,{W:()=>_,r:()=>n});var o=v(31579),w=v(77552);const{getItem:y,setItem:x,removeItem:E}=(0,o.Z)("localStorage",{throwQuotaErrorsOnSet:!0});var n=(e=>(e.Branch="branch",e.Tag="tag",e))(n||{});const u=p(class{constructor(e,t,a,l,g){this.knownItems=[],this.currentSearchResult=[],this.exactMatchFound=!1,this.searchTerm="",this.isLoading=!0,this.fetchInProgress=!1,this.fetchFailed=!1,this.refType=e,this.selector=t,this.refEndpoint=a,this.cacheKey=l,this.nameWithOwner=g}render(){this.selector.render()}async fetchData(){try{if(!this.isLoading||this.fetchInProgress)return;if(!this.bootstrapFromLocalStorage()){this.fetchInProgress=!0,this.fetchFailed=!1;const e=await fetch(`${this.refEndpoint}?type=${this.refType}`,{headers:{Accept:"application/json"}});await this.processResponse(e)}this.isLoading=!1,this.fetchInProgress=!1,this.render()}catch{this.fetchInProgress=!1,this.fetchFailed=!0}}async processResponse(e){if(this.emitStats(e),!e.ok){this.fetchFailed=!0;return}const t=e.clone(),a=await e.json();this.knownItems=a.refs,this.cacheKey=a.cacheKey,this.flushToLocalStorage(await t.text())}emitStats(e){if(!e.ok){(0,w.b)({incrementKey:"REF_SELECTOR_BOOT_FAILED"},!0);return}switch(e.status){case 200:{(0,w.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_UNCACHED_HTTP"});break}case 304:{(0,w.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_HTTP_CACHE"});break}default:(0,w.b)({incrementKey:"REF_SELECTOR_UNEXPECTED_RESPONSE"})}}search(e){if(this.searchTerm=e,e===""){this.currentSearchResult=this.knownItems;return}const t=[],a=[];this.exactMatchFound=!1;let l;for(const g of this.knownItems)if(l=g.indexOf(e),!(l<0)){if(l===0){e===g?(a.unshift(g),this.exactMatchFound=!0):a.push(g);continue}t.push(g)}this.currentSearchResult=[...a,...t]}bootstrapFromLocalStorage(){const e=y(this.localStorageKey);if(!e)return!1;const t=JSON.parse(e);return t.cacheKey!==this.cacheKey||!("refs"in t)?(E(this.localStorageKey),!1):(this.knownItems=t.refs,this.isLoading=!1,(0,w.b)({incrementKey:"REF_SELECTOR_BOOTED_FROM_LOCALSTORAGE"}),!0)}async flushToLocalStorage(e){try{x(this.localStorageKey,e)}catch(t){if(t.message.toLowerCase().includes("quota")){this.clearSiblingLocalStorage(),(0,w.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_OVERFLOWED"});try{x(this.localStorageKey,e)}catch(a){a.message.toLowerCase().includes("quota")&&(0,w.b)({incrementKey:"REF_SELECTOR_LOCALSTORAGE_GAVE_UP"})}}else throw t}}clearSiblingLocalStorage(){for(const e of Object.keys(localStorage))e.startsWith(u.LocalStoragePrefix)&&E(e)}get localStorageKey(){return`${u.LocalStoragePrefix}:${this.nameWithOwner}:${this.refType}`}},"_SearchIndex");let _=u;_.LocalStoragePrefix="ref-selector"},31579:(M,O,v)=>{v.d(O,{Z:()=>w});class o{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}}p(o,"NoOpStorage");function w(y,x={throwQuotaErrorsOnSet:!1},E=window){let n;try{n=E[y]}catch{n=new o}const{throwQuotaErrorsOnSet:u}=x;function _(a){try{return n.getItem(a)}catch{return null}}p(_,"getItem");function e(a,l){try{n.setItem(a,l)}catch(g){if(u&&g.message.toLowerCase().includes("quota"))throw g}}p(e,"setItem");function t(a){try{n.removeItem(a)}catch{}}return p(t,"removeItem"),{getItem:_,setItem:e,removeItem:t}}p(w,"safeStorage")},77552:(M,O,v)=>{v.d(O,{b:()=>x});var o=v(70290),w=v(75488);let y=[];function x(e,t=!1){e.timestamp===void 0&&(e.timestamp=new Date().getTime()),e.loggedIn=_(),y.push(e),t?u():n()}p(x,"sendStats");let E=null;async function n(){await w.C,E==null&&(E=window.requestIdleCallback(u))}p(n,"scheduleSendStats");function u(){var e,t;if(E=null,!y.length||(0,o.Z)(document))return;const a=(t=(e=document.head)==null?void 0:e.querySelector('meta[name="browser-stats-url"]'))==null?void 0:t.content;if(!a)return;const l=JSON.stringify({stats:y});try{navigator.sendBeacon&&navigator.sendBeacon(a,l)}catch{}y=[]}p(u,"flushStats");function _(){var e,t;return!!((t=(e=document.head)==null?void 0:e.querySelector('meta[name="user-login"]'))==null?void 0:t.content)}p(_,"isLoggedIn"),document.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u)}},M=>{var O=p(o=>M(M.s=o),"__webpack_exec__");M.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_lit-html_directives_until_js-node_modules_github_catalyst_lib_index_js-n-0b48d4","vendors-node_modules_virtualized-list_es_index_js-node_modules_github_template-parts_lib_index_js","app_assets_modules_github_form_ts-app_assets_modules_github_navigation_ts"],()=>O(60136));var v=M.O()}]);})();

//# sourceMappingURL=actions-ae534188b385.js.map